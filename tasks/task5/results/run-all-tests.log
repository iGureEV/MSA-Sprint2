‚ûú  task5 git:(main) ‚úó ./run-all-tests.sh
üöÄ –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç Istio –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏...

=== 1. –¢–ï–°–¢ –ö–ê–ù–ê–†–ï–ï–ß–ù–û–ì–û –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Ø ===
‚ñ∂Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–Ω–∞—Ä–µ–µ—á–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è (90% v1, 10% v2)...
–û—Ç–ø—Ä–∞–≤–∫–∞ 50 –∑–∞–ø—Ä–æ—Å–æ–≤...
–ó–∞–ø—Ä–æ—Å 1: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 2: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 3: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 4: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 5: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 6: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 7: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 8: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 9: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 10: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 11: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 12: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 13: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 14: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 15: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 16: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 17: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 18: v2 (pong (Feature X enabled, Version: v2))
–ó–∞–ø—Ä–æ—Å 19: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 20: v2 (pong (Feature X enabled, Version: v2))
–ó–∞–ø—Ä–æ—Å 21: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 22: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 23: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 24: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 25: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 26: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 27: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 28: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 29: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 30: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 31: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 32: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 33: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 34: v2 (pong (Feature X enabled, Version: v2))
–ó–∞–ø—Ä–æ—Å 35: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 36: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 37: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 38: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 39: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 40: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 41: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 42: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 43: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 44: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 45: v2 (pong (Feature X enabled, Version: v2))
–ó–∞–ø—Ä–æ—Å 46: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 47: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 48: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 49: v1 (no healthy upstream)
–ó–∞–ø—Ä–æ—Å 50: v1 (no healthy upstream)

üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
v1 –∑–∞–ø—Ä–æ—Å–æ–≤: 46
v2 –∑–∞–ø—Ä–æ—Å–æ–≤: 4
–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ: 46:4
–ü—Ä–æ—Ü–µ–Ω—Ç v2: 8% (–æ–∂–∏–¥–∞–µ—Ç—Å—è ~10%)

=== 2. –¢–ï–°–¢ FEATURE FLAG ===
‚ñ∂Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ Feature Flag...
1. –ó–∞–ø—Ä–æ—Å –ë–ï–ó –∑–∞–≥–æ–ª–æ–≤–∫–∞ (–¥–æ–ª–∂–µ–Ω —Å–ª–µ–¥–æ–≤–∞—Ç—å –∫–∞–Ω–∞—Ä–µ–µ—á–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º):
no healthy upstream
2. –ó–∞–ø—Ä–æ—Å –° –∑–∞–≥–æ–ª–æ–≤–∫–æ–º X-Feature-Enabled: true (–¥–æ–ª–∂–µ–Ω –∏–¥—Ç–∏ –Ω–∞ v2):
pong (Feature X enabled, Version: v2)
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ endpoint /feature (—Ç–æ–ª—å–∫–æ –Ω–∞ v2):
   –ë–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞:
Feature X is enabled! (Version: v2) (status: 200)
   –° –∑–∞–≥–æ–ª–æ–≤–∫–æ–º:
Feature X is enabled! (Version: v2) (status: 200)

=== 3. –¢–ï–°–¢ FALLBACK ===
‚ñ∂Ô∏è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ fallback...
–¢–µ–∫—É—â–∏–µ —Ä–µ–ø–ª–∏–∫–∏ v1: 0
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ v1:
   –ó–∞–ø—Ä–æ—Å 1: no healthy upstream
   –ó–∞–ø—Ä–æ—Å 2: no healthy upstream
   –ó–∞–ø—Ä–æ—Å 3: pong (Feature X enabled, Version: v2)

2. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ v1...
deployment.apps/booking-service-v1 scaled
   –û–∂–∏–¥–∞–Ω–∏–µ 10 —Å–µ–∫—É–Ω–¥ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è endpoints...

3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ v1:
   –ó–∞–ø—Ä–æ—Å 1: no healthy upstream
   –ó–∞–ø—Ä–æ—Å 2: pong (Feature X enabled, Version: v2)
   –ó–∞–ø—Ä–æ—Å 3: no healthy upstream
   –ó–∞–ø—Ä–æ—Å 4: no healthy upstream
   –ó–∞–ø—Ä–æ—Å 5: no healthy upstream

4. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ v1...
deployment.apps/booking-service-v1 scaled
   –ì–æ—Ç–æ–≤–æ!

=== 4. –ü–†–û–í–ï–†–ö–ê ISTIO ===
‚ñ∂Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Istio...
NAME                                    READY   STATUS    RESTARTS        AGE
grafana-6c689999f9-dx5w9                1/1     Running   1 (5h26m ago)   5h40m
istio-egressgateway-7dcdbd74c5-krbxm    1/1     Running   1 (5h26m ago)   5h45m
istio-ingressgateway-69cfc6566f-xfkwt   1/1     Running   1 (5h26m ago)   5h45m
istiod-6c844b7969-wr4jk                 1/1     Running   1 (5h26m ago)   5h45m
jaeger-555f5df568-w5vwp                 1/1     Running   1 (5h26m ago)   5h38m
kiali-95cffb658-9bjpj                   1/1     Running   2 (5h26m ago)   5h38m
prometheus-6bd68c5c99-rsd9x             2/2     Running   2 (5h26m ago)   5h40m
‚ñ∂Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ Istio –∏–Ω—ä–µ–∫—Ü–∏–∏ –≤ default namespace...
"enabled"

‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!
